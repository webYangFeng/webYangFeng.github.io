(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-80e4ebb8"],{"0819":function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("canvas",{attrs:{id:"three"}}),t("el-button",{staticStyle:{position:"absolute",top:"20px",right:"20px"},on:{click:function(n){return e.$router.go(-1)}}},[e._v("返回")])],1)},a=[],o=(t("2705"),t("86e5")),r=t("255c"),d=t("f802"),s=t("63e7"),c={mounted:function(){this.initThree()},methods:{initThree:function(){var e=new o["nb"];e.background=new o["m"]("#FFF");var n=document.querySelector("#three"),t=new o["Db"]({canvas:n,antialias:!0});t.setPixelRatio(window.devicePixelRatio),t.shadowMap.enabled=!0;var i=window.innerWidth,a=window.innerHeight,c=i/a,l=80,w=new o["ab"](-l*c,l*c,l,-l,1,1e3);w.position.set(10,100,230),w.lookAt(e.position);var u=new o["d"](5e3);e.add(u);var m=new o["a"](16777215,.3);e.add(m);var v=new o["tb"](16777215,1);v.position.set(-300,150,150),v.angle=Math.PI/6,v.penumbra=.2,e.add(v);var p=new o["j"](v.shadow.camera);e.add(p);var h=new o["db"](3e3,3e3),b=new o["R"]({color:"#ccc",shininess:0}),f=new o["P"](h,b);f.rotation.x=-.5*Math.PI,f.name="地板",e.add(f);var g=new o["g"](50,50,50),y=new o["R"]({color:"#666",side:o["o"]}),x=new o["P"](g,y);x.position.y=25,e.add(x),v.castShadow=!0,f.receiveShadow=!0,x.castShadow=!0;var E=document.createElement("div");E.className="tag",E.innerHTML="50*50*50的正方形",E.style.padding="4px 10px",E.style.color="#fff",E.style.fontSize="16px",E.style.position="absolute",E.style.backgroundColor="rgba(25,25,25,0.5)",E.style.borderRadius="5px";var P=new s["a"](E);P.visible=!0,P.position.set(50,50,0),P.name="正方形Tag";var S=new s["b"];S.setSize(i,a),S.domElement.style.position="absolute",S.domElement.style.top="0",S.domElement.style.left="0",S.domElement.style.pointerEvents="none",document.body.appendChild(S.domElement);var k=new r["a"],R=null;function M(n){var t=F(n);if(0!==t.length){var i=e.getObjectByName("正方形Tag");i?e.remove(i):e.add(P)}else console.log("未选中 Mesh!")}k.load("/model/angel/scene.gltf",(function(n){var t=n.scene;t.scale.set(2e3,2e3,2e3),t.position.set(-100,0,0),t.name="人物",e.add(t),t.traverse((function(e){e instanceof o["P"]&&(e.castShadow=!0,e.receiveShadow=!0)})),R=new o["c"](t);var i=R.clipAction(n.animations[0]);i.setDuration(8).play()})),document.addEventListener("click",M,!1);var j=new o["kb"],D=new o["Ab"];function F(n){n.preventDefault(),D.x=n.clientX/window.innerWidth*2-1,D.y=-n.clientY/window.innerHeight*2+1,j.setFromCamera(D,w);var t=j.intersectObjects(e.children,!0);return t}var H=new o["l"],T=new d["a"](w,t.domElement);function A(){if(R&&R.update(H.getDelta()),T.update(),S.render(e,w),t.render(e,w),requestAnimationFrame(A),W(t)){var n=t.domElement;w.aspect=n.clientWidth/n.clientHeight,w.updateProjectionMatrix()}}function W(e){var n=e.domElement,t=window.innerWidth,i=window.innerHeight,a=n.width/window.devicePixelRatio,o=n.height/window.devicePixelRatio,r=a!==t||o!==i;return r&&e.setSize(t,i,!1),r}T.enableDamping=!0,A()}}},l=c,w=(t("b6eb"),t("1805")),u=Object(w["a"])(l,i,a,!1,null,"e600724c",null);n["default"]=u.exports},7245:function(e,n,t){},b6eb:function(e,n,t){"use strict";t("7245")}}]);